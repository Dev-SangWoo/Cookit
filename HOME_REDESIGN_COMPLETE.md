# ğŸ¨ í™ˆ íƒ­ ë¦¬ë””ìì¸ ì™„ë£Œ!

## ğŸ“‹ ê°œìš”
ì‚¬ìš©ì ë§ì¶¤í˜• 4ê°œ ì„¹ì…˜ìœ¼ë¡œ êµ¬ì„±ëœ ìƒˆë¡œìš´ í™ˆ í™”ë©´ êµ¬í˜„ ì™„ë£Œ

---

## âœ… ì™„ì„±ëœ 4ê°œ ì„¹ì…˜

### 1ï¸âƒ£ ğŸ¯ ë‹¹ì‹ ì„ ìœ„í•œ ì¶”ì²œ
**ê¸°ë°˜:** ì„ í˜¸/ë¹„ì„ í˜¸ ì¬ë£Œ ê³ ë ¤
- **API:** `GET /api/recommendations/user`
- **ë¡œì§:**
  - `user_profiles.favorite_cuisines` (ì„ í˜¸ ìš”ë¦¬ ì¢…ë¥˜)
  - `user_profiles.dietary_restrictions` (ì•Œë ˆë¥´ê¸°/ì œì™¸ ì¬ë£Œ)
  - ì„ í˜¸ ì¹´í…Œê³ ë¦¬ ë§¤ì¹­ â†’ ì¬ë£Œ í•„í„°ë§
- **ë ˆì´ì•„ì›ƒ:** ê°€ë¡œ ìŠ¤í¬ë¡¤ ë¯¸ë‹ˆ ì¹´ë“œ (6ê°œ)

### 2ï¸âƒ£ ğŸ“ ë‹¹ì‹ ì˜ ë ˆë²¨ì— ë§ì¶°ìš”
**ê¸°ë°˜:** ë‚œì´ë„ ê¸°ë°˜ ì¶”ì²œ
- **API:** `GET /api/recommendations/by-difficulty`
- **ë¡œì§:**
  - `user_profiles.cooking_level` ì¡°íšŒ
  - `beginner` â†’ `easy` ë‚œì´ë„ ë ˆì‹œí”¼
  - `intermediate` â†’ `medium` ë‚œì´ë„ ë ˆì‹œí”¼
  - `advanced` â†’ `hard` ë‚œì´ë„ ë ˆì‹œí”¼
- **ë ˆì´ì•„ì›ƒ:** ê°€ë¡œ ìŠ¤í¬ë¡¤ ë¯¸ë‹ˆ ì¹´ë“œ (6ê°œ)

### 3ï¸âƒ£ ğŸ”¥ ì§€ê¸ˆ í•«í•œ ë ˆì‹œí”¼
**ê¸°ë°˜:** ì‹¤ì‹œê°„ ì¸ê¸° (ì¡°íšŒìˆ˜)
- **API:** `GET /api/recommendations/popular`
- **ë¡œì§:**
  - `recipe_stats.view_count` ê¸°ì¤€ ì •ë ¬
  - ê°€ì¥ ë§ì´ ì¡°íšŒëœ ë ˆì‹œí”¼ ìš°ì„ 
- **ë ˆì´ì•„ì›ƒ:** ì„¸ë¡œ ë‚˜ì—´ ëŒ€í˜• ì¹´ë“œ (4ê°œ)

### 4ï¸âƒ£ ğŸ‘¨â€ğŸ³ ë˜ ë§Œë“¤ê³  ì‹¶ì–´ìš”!
**ê¸°ë°˜:** ì™„ì„±í•œ ìš”ë¦¬ ê¸°ë°˜ ì¶”ì²œ
- **API:** `GET /api/recommendations/similar-to-cooked`
- **ë¡œì§:**
  - `user_posts`ì—ì„œ ì™„ì„±í•œ ë ˆì‹œí”¼ ì¡°íšŒ
  - í•´ë‹¹ ë ˆì‹œí”¼ë“¤ì˜ `category_id` ì¶”ì¶œ
  - ê°™ì€ ì¹´í…Œê³ ë¦¬ì˜ ë‹¤ë¥¸ ë ˆì‹œí”¼ ì¶”ì²œ
  - ì´ë¯¸ ë§Œë“  ë ˆì‹œí”¼ëŠ” ì œì™¸
- **ë ˆì´ì•„ì›ƒ:** ê°€ë¡œ ìŠ¤í¬ë¡¤ ë¯¸ë‹ˆ ì¹´ë“œ (6ê°œ)

---

## ğŸ¨ ë””ìì¸ íŠ¹ì§•

### ì„¹ì…˜ í—¤ë”
- **ì´ëª¨ì§€ ì•„ì´ì½˜** (ğŸ¯, ğŸ“, ğŸ”¥, ğŸ‘¨â€ğŸ³)
- **ì£¼ ì œëª©** (í° í…ìŠ¤íŠ¸, êµµê²Œ)
- **ë¶€ ì œëª©** (ì‘ì€ íšŒìƒ‰ í…ìŠ¤íŠ¸)
- **ë”ë³´ê¸° ë²„íŠ¼**

### ë¯¸ë‹ˆ ì¹´ë“œ (ê°€ë¡œ ìŠ¤í¬ë¡¤)
- **í¬ê¸°:** 160px ë„ˆë¹„
- **ì´ë¯¸ì§€:** 120px ë†’ì´
- **ì •ë³´:**
  - ë ˆì‹œí”¼ ì œëª© (2ì¤„ ì œí•œ)
  - ì†Œìš” ì‹œê°„ (ì‹œê³„ ì•„ì´ì½˜)
  - ë‚œì´ë„ (ë³„ ì•„ì´ì½˜)

### ëŒ€í˜• ì¹´ë“œ (ì„¸ë¡œ ë‚˜ì—´)
- **ë ˆì´ì•„ì›ƒ:** ê°€ë¡œí˜• (ì´ë¯¸ì§€ + í…ìŠ¤íŠ¸)
- **ì´ë¯¸ì§€:** 120x120px
- **ì •ë³´:**
  - ë ˆì‹œí”¼ ì œëª©
  - ì„¤ëª… (2ì¤„ ì œí•œ)
  - ì†Œìš” ì‹œê°„, ì¸ë¶„, ë‚œì´ë„
  - AI ìƒì„± ë±ƒì§€

### ìƒ‰ìƒ í…Œë§ˆ
- **ì£¼ ìƒ‰ìƒ:** `#FF6B35` (ì˜¤ë Œì§€)
- **ë°°ê²½:** `#f8f9fa` (ì—°í•œ íšŒìƒ‰)
- **ì¹´ë“œ:** `#fff` (í°ìƒ‰)
- **í…ìŠ¤íŠ¸:** `#333` (ì§„í•œ íšŒìƒ‰), `#666` (ì¤‘ê°„ íšŒìƒ‰), `#999` (ì—°í•œ íšŒìƒ‰)

---

## ğŸ”§ êµ¬í˜„ëœ API ì—”ë“œí¬ì¸íŠ¸

### ì„œë²„ (`Server/routes/recommendations.js`)

#### 1. ê°œì¸í™” ì¶”ì²œ (ê¸°ì¡´)
```javascript
GET /api/recommendations/user
Authorization: Bearer {token}

Response:
{
  "success": true,
  "user": "ì‚¬ìš©ìëª…",
  "favorite_cuisines": ["í•œì‹", "ì–‘ì‹"],
  "dietary_restrictions": ["ë•…ì½©"],
  "total": 10,
  "recommendations": [...]
}
```

#### 2. ë‚œì´ë„ ê¸°ë°˜ ì¶”ì²œ (ì‹ ê·œ)
```javascript
GET /api/recommendations/by-difficulty?limit=6
Authorization: Bearer {token}

Response:
{
  "success": true,
  "cooking_level": "beginner",
  "target_difficulty": "easy",
  "total": 6,
  "recipes": [...]
}
```

#### 3. ì¸ê¸° ë ˆì‹œí”¼ (ê¸°ì¡´)
```javascript
GET /api/recommendations/popular?limit=4

Response:
{
  "success": true,
  "total": 4,
  "recipes": [...]
}
```

#### 4. ìœ ì‚¬ ë ˆì‹œí”¼ ì¶”ì²œ (ì‹ ê·œ)
```javascript
GET /api/recommendations/similar-to-cooked?limit=6
Authorization: Bearer {token}

Response:
{
  "success": true,
  "cooked_count": 5,
  "total": 6,
  "recipes": [...]
}
```

---

## ğŸ“± í”„ë¡ íŠ¸ì—”ë“œ ì„œë¹„ìŠ¤ (`CookitMobile/services/recipeService.js`)

### ì¶”ê°€ëœ ë©”ì„œë“œ

#### 1. `getRecommendedRecipes()` (ê¸°ì¡´)
ê°œì¸í™” ì¶”ì²œ ë ˆì‹œí”¼ ì¡°íšŒ

#### 2. `getRecipesByDifficulty(limit)` (ì‹ ê·œ)
```javascript
const result = await recipeService.getRecipesByDifficulty(6);
// {
//   success: true,
//   recipes: [...],
//   total: 6,
//   cooking_level: 'beginner',
//   target_difficulty: 'easy'
// }
```

#### 3. `getPopularRecipes(limit)` (ê¸°ì¡´)
ì¸ê¸° ë ˆì‹œí”¼ ì¡°íšŒ (ì¡°íšŒìˆ˜ ê¸°ë°˜)

#### 4. `getSimilarToCookedRecipes(limit)` (ì‹ ê·œ)
```javascript
const result = await recipeService.getSimilarToCookedRecipes(6);
// {
//   success: true,
//   recipes: [...],
//   total: 6,
//   cooked_count: 5
// }
```

---

## ğŸš€ ì‚¬ìš©ì ê²½í—˜ ê°œì„ 

### ê°œì¸í™” ê°•í™”
- âœ… ì„ í˜¸ ìš”ë¦¬ ì¢…ë¥˜ ê¸°ë°˜ ì¶”ì²œ
- âœ… ì•Œë ˆë¥´ê¸° ì¬ë£Œ ìë™ ì œì™¸
- âœ… ìš”ë¦¬ ì‹¤ë ¥ì— ë§ëŠ” ë‚œì´ë„
- âœ… ì´ì „ ìš”ë¦¬ ê¸°ë¡ ê¸°ë°˜ ì¶”ì²œ

### ë‹¤ì–‘í•œ ë°œê²¬ ê²½ë¡œ
1. **ì„ í˜¸ë„ ê¸°ë°˜** â†’ ì¢‹ì•„í•˜ëŠ” ìš”ë¦¬ íƒìƒ‰
2. **ë‚œì´ë„ ê¸°ë°˜** â†’ ë„ì „í•  ìˆ˜ ìˆëŠ” ìš”ë¦¬
3. **ì¸ê¸° ê¸°ë°˜** â†’ íŠ¸ë Œë“œ ìš”ë¦¬ ë°œê²¬
4. **ìœ ì‚¬ ìš”ë¦¬ ê¸°ë°˜** â†’ ì·¨í–¥ í™•ì¥

### UI/UX ê°œì„ 
- âœ… ì§ê´€ì ì¸ ì´ëª¨ì§€ ì•„ì´ì½˜
- âœ… ëª…í™•í•œ ì„¹ì…˜ êµ¬ë¶„
- âœ… ë¶€ë“œëŸ¬ìš´ ìŠ¤í¬ë¡¤ ê²½í—˜
- âœ… ì¼ê´€ëœ ë””ìì¸ ì‹œìŠ¤í…œ

---

## ğŸ¯ ì¶”ì²œ ì•Œê³ ë¦¬ì¦˜ ìƒì„¸

### 1. ê°œì¸í™” ì¶”ì²œ
```
1. user_profilesì—ì„œ favorite_cuisines, dietary_restrictions ì¡°íšŒ
2. favorite_cuisines â†’ recipe_categories.id ë§¤í•‘
3. í•´ë‹¹ ì¹´í…Œê³ ë¦¬ì˜ ë ˆì‹œí”¼ í•„í„°ë§
4. dietary_restrictionsê°€ ì¬ë£Œì— í¬í•¨ëœ ë ˆì‹œí”¼ ì œì™¸
5. ìµœì‹ ìˆœ ì •ë ¬ í›„ ë°˜í™˜
```

### 2. ë‚œì´ë„ ê¸°ë°˜ ì¶”ì²œ
```
1. user_profilesì—ì„œ cooking_level ì¡°íšŒ
2. cooking_level â†’ difficulty_level ë§¤í•‘
   - beginner â†’ easy
   - intermediate â†’ medium
   - advanced â†’ hard
3. í•´ë‹¹ ë‚œì´ë„ì˜ ë ˆì‹œí”¼ ì¡°íšŒ
4. ìµœì‹ ìˆœ ì •ë ¬ í›„ ë°˜í™˜
```

### 3. ì¸ê¸° ë ˆì‹œí”¼
```
1. recipesì™€ recipe_stats ì¡°ì¸
2. view_count ê¸°ì¤€ ë‚´ë¦¼ì°¨ìˆœ ì •ë ¬
3. ìƒìœ„ Nê°œ ë°˜í™˜
```

### 4. ìœ ì‚¬ ë ˆì‹œí”¼ ì¶”ì²œ
```
1. user_postsì—ì„œ recipe_idê°€ ìˆëŠ” ê²Œì‹œê¸€ ì¡°íšŒ
2. í•´ë‹¹ ë ˆì‹œí”¼ë“¤ì˜ category_id ì¶”ì¶œ
3. ì¹´í…Œê³ ë¦¬ë³„ ë¹ˆë„ìˆ˜ ê³„ì‚° (ê°€ì¥ ë§ì´ ë§Œë“  ì¹´í…Œê³ ë¦¬ ìš°ì„ )
4. ê°™ì€ ì¹´í…Œê³ ë¦¬ì˜ ë‹¤ë¥¸ ë ˆì‹œí”¼ ì¡°íšŒ
5. ì´ë¯¸ ë§Œë“  ë ˆì‹œí”¼ëŠ” ì œì™¸
6. ìµœì‹ ìˆœ ì •ë ¬ í›„ ë°˜í™˜
```

---

## ğŸ“Š ë°ì´í„° íë¦„

```
ì‚¬ìš©ì â†’ HomeMain.js
          â†“
   fetchAllRecipes() í˜¸ì¶œ
          â†“
   â”Œâ”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â†“               â†“         â†“         â†“
ê°œì¸í™” ì¶”ì²œ    ë‚œì´ë„ ì¶”ì²œ  ì¸ê¸° ë ˆì‹œí”¼  ìœ ì‚¬ ë ˆì‹œí”¼
   â†“               â†“         â†“         â†“
recipeService.getRecommendedRecipes()
recipeService.getRecipesByDifficulty()
recipeService.getPopularRecipes()
recipeService.getSimilarToCookedRecipes()
   â†“               â†“         â†“         â†“
Server API í˜¸ì¶œ
   â†“               â†“         â†“         â†“
Supabase ì¿¼ë¦¬ + í•„í„°ë§ + ì •ë ¬
   â†“               â†“         â†“         â†“
ë ˆì‹œí”¼ ë°ì´í„° ë°˜í™˜
   â†“               â†“         â†“         â†“
State ì—…ë°ì´íŠ¸ â†’ í™”ë©´ ë Œë”ë§
```

---

## ğŸ”„ Fallback ë¡œì§

ëª¨ë“  ì¶”ì²œ APIì—ëŠ” Fallback ë¡œì§ì´ êµ¬í˜„ë˜ì–´ ìˆìŠµë‹ˆë‹¤:

### ì¸ì¦ í† í° ì—†ìŒ
```javascript
// í† í°ì´ ì—†ìœ¼ë©´ ì¼ë°˜ ë ˆì‹œí”¼ ëª©ë¡ ë°˜í™˜
if (!token) {
  return this.getPublicRecipes({ limit });
}
```

### ë°ì´í„° ì—†ìŒ
```javascript
// ì„ í˜¸ë„ ì •ë³´ ì—†ìŒ â†’ ìµœì‹  ë ˆì‹œí”¼
if (favorite_cuisines.length === 0) {
  return recentRecipes;
}

// ì™„ì„±í•œ ìš”ë¦¬ ì—†ìŒ â†’ ìµœì‹  ë ˆì‹œí”¼
if (userPosts.length === 0) {
  return recentRecipes;
}
```

### API ì˜¤ë¥˜
```javascript
// ì˜¤ë¥˜ ë°œìƒ ì‹œ ì¼ë°˜ ë ˆì‹œí”¼ë¡œ ëŒ€ì²´
catch (error) {
  return this.getPublicRecipes({ limit });
}
```

---

## ğŸŠ ê²°ê³¼

ì‚¬ìš©ì ë§ì¶¤í˜• 4ê°œ ì„¹ì…˜ìœ¼ë¡œ êµ¬ì„±ëœ **ì™„ì „íˆ ìƒˆë¡œìš´ í™ˆ í™”ë©´**ì´ ì™„ì„±ë˜ì—ˆìŠµë‹ˆë‹¤!

- âœ… ê°œì¸í™”ëœ ì¶”ì²œ ì‹œìŠ¤í…œ
- âœ… ë‹¤ì–‘í•œ ë°œê²¬ ê²½ë¡œ ì œê³µ
- âœ… ì§ê´€ì ì¸ UI/UX
- âœ… ì•ˆì •ì ì¸ Fallback ë¡œì§
- âœ… í™•ì¥ ê°€ëŠ¥í•œ êµ¬ì¡°

---

**ì‘ì„±ì¼:** 2025-11-02  
**ë²„ì „:** 2.0.0  
**ìƒíƒœ:** âœ… ì™„ë£Œ

